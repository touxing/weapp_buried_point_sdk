!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).weapptracker={})}(this,function(D){function F(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function U(r){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?F(Object(o),!0).forEach(function(t){var e,n;e=r,n=o[t=t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):F(Object(o)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(o,t))})}return r}function $(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function q(t,e,n){e&&N(t.prototype,e),n&&N(t,n),Object.defineProperty(t,"prototype",{writable:!1})}function G(t){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function H(t,e){return(H=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function K(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function B(t,e,n){return(B=K()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);e=new(Function.bind.apply(t,r));return n&&H(e,n.prototype),e}).apply(null,arguments)}function V(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return V(t)}function W(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],c=!0,u=!1;try{for(n=n.call(t);!(c=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{c||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function X(t){return t&&t.Math==Math&&t}function t(t){try{return!!t()}catch(t){return!0}}function J(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function Q(t){return lt(st(t),8,-1)}function Z(t){if(null==t)throw vt("Can't call method on "+t);return t}function tt(t){return yt(gt(t))}function e(t){return"function"==typeof t}function n(t){return"object"==typeof t?null!==t:bt(t)}function et(t,e){return arguments.length<2?(n=mt[t],wt(n)?n:void 0):mt[t]&&mt[t][e];var n}function nt(t){try{return Tt(t)}catch(t){return"Object"}}function rt(t){if(kt(t))return t;throw It(At(t)+" is not a function")}function ot(t,e){return null==(t=t[e])?void 0:_t(t)}function it(e,n){try{Ft(Dt,e,{value:n,configurable:!0,writable:!0})}catch(t){Dt[e]=n}return n}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r=X("object"==typeof globalThis&&globalThis)||X("object"==typeof window&&window)||X("object"==typeof self&&self)||X("object"==typeof r&&r)||function(){return this}()||Function("return this")(),o={},i=!t(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),c=!t(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}),ct=Function.prototype.call,u=c?ct.bind(ct):function(){return ct.apply(ct,arguments)},a={},f={}.propertyIsEnumerable,ut=Object.getOwnPropertyDescriptor,s=ut&&!f.call({1:2},1),s=(a.f=s?function(t){t=ut(this,t);return!!t&&t.enumerable}:f,c),f=Function.prototype,l=f.bind,at=f.call,ft=s&&l.bind(at,at),f=s?function(t){return t&&ft(t)}:function(t){return t&&function(){return at.apply(t,arguments)}},l=f,st=l({}.toString),lt=l("".slice),s=f,l=t,pt=Q,ht=r.Object,dt=s("".split),s=l(function(){return!ht("z").propertyIsEnumerable(0)})?function(t){return"String"==pt(t)?dt(t,""):ht(t)}:ht,vt=r.TypeError,yt=s,gt=Z,bt=e,mt=r,wt=e,l=f({}.isPrototypeOf),Ot=et("navigator","userAgent")||"",p=Ot,h=r.process,d=r.Deno,h=h&&h.versions||d&&d.version,d=h&&h.v8,h=y=!(y=d?0<(v=d.split("."))[0]&&v[0]<4?1:+(v[0]+v[1]):y)&&p&&(!(v=p.match(/Edge\/(\d+)/))||74<=v[1])&&(v=p.match(/Chrome\/(\d+)/))?+v[1]:y,xt=h,d=t,p=!!Object.getOwnPropertySymbols&&!d(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&xt&&xt<41}),v=p&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,jt=et,St=e,Et=l,Pt=r.Object,y=v?function(t){return"symbol"==typeof t}:function(t){var e=jt("Symbol");return St(e)&&Et(e.prototype,Pt(t))},Tt=r.String,kt=e,At=nt,It=r.TypeError,_t=rt,Mt=u,Rt=e,Ct=n,Lt=r.TypeError,d={exports:{}},Dt=r,Ft=Object.defineProperty,g=it,b="__core-js_shared__",g=r[b]||g(b,{}),Ut=g;(d.exports=function(t,e){return Ut[t]||(Ut[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.21.1",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"});function $t(t){return ce(ie(t))}function Nt(t){return"Symbol("+(void 0===t?"":t)+")_"+le(++fe+se,36)}function m(t){var e;return pe(ye,t)&&(de||"string"==typeof ye[t])||(e="Symbol."+t,de&&pe(ge,t)?ye[t]=ge[t]:ye[t]=(ve&&be?be:me)(e)),ye[t]}function qt(t){return t=Te(t,"string"),ke(t)?t:t+""}function Gt(t){return Ie?Ae.createElement(t):{}}function w(t){if(Ne(t))return t;throw Ge(qe(t)+" is not an object")}function Ht(t){return nn[t]||(nn[t]=en(t))}function Kt(t){return(t=+t)!=t||0==t?0:(0<t?wn:mn)(t)}function Bt(t,e){return(t=On(t))<0?xn(t+e,0):jn(t,e)}function Vt(t){return 0<t?En(Sn(t),9007199254740991):0}function zt(t){return Pn(t.length)}function Wt(u){return function(t,e,n){var r,o=Tn(t),i=An(o),c=kn(n,i);if(u&&e!=e){for(;c<i;)if((r=o[c++])!=r)return!0}else for(;c<i;c++)if((u||c in o)&&o[c]===e)return u||c||0;return!u&&-1}}function Yt(t,e){var n,r=_n(t),o=0,i=[];for(n in r)!In(Rn,n)&&In(r,n)&&Cn(i,n);for(;e.length>o;)!In(r,n=e[o++])||~Mn(i,n)||Cn(i,n);return i}function Xt(t,e){return(t=Xn[Yn(t)])==Qn||t!=Jn&&(zn(e)?Vn(e):!!e)}function O(t,e){var n,r,o,i=t.target,c=t.global,u=t.stat,a=c?Zn:u?Zn[i]||rr(i,{}):(Zn[i]||{}).prototype;if(a)for(n in e){if(r=e[n],o=t.noTargetGet?(o=tr(a,n))&&o.value:a[n],!ir(c?n:i+(u?".":"#")+n,t.forced)&&void 0!==o){if(typeof r==typeof o)continue;or(r,o)}(t.sham||o&&o.sham)&&er(r,"sham",!0),nr(a,n,r,t)}}var Jt,Qt,Zt,te,ee,ne,re,oe,ie=Z,ce=r.Object,ue=$t,ae=f({}.hasOwnProperty),b=Object.hasOwn||function(t,e){return ae(ue(t),e)},x=f,fe=0,se=Math.random(),le=x(1..toString),x=r,j=d.exports,pe=b,he=Nt,de=p,ve=v,ye=j("wks"),ge=x.Symbol,be=ge&&ge.for,me=ve?ge:ge&&ge.withoutSetter||he,we=u,Oe=n,xe=y,je=ot,Se=function(t,e){var n,r;if("string"===e&&Rt(n=t.toString)&&!Ct(r=Mt(n,t)))return r;if(Rt(n=t.valueOf)&&!Ct(r=Mt(n,t)))return r;if("string"!==e&&Rt(n=t.toString)&&!Ct(r=Mt(n,t)))return r;throw Lt("Can't convert object to primitive value")},p=m,Ee=r.TypeError,Pe=p("toPrimitive"),Te=function(t,e){if(!Oe(t)||xe(t))return t;var n=je(t,Pe);if(n){if(n=we(n,t,e=void 0===e?"default":e),!Oe(n)||xe(n))return n;throw Ee("Can't convert object to primitive value")}return Se(t,e=void 0===e?"number":e)},ke=y,v=n,Ae=r.document,Ie=v(Ae)&&v(Ae.createElement),_e=Gt,j=!i&&!t(function(){return 7!=Object.defineProperty(_e("div"),"a",{get:function(){return 7}}).a}),Me=u,Re=a,Ce=J,Le=tt,De=qt,Fe=b,Ue=j,$e=Object.getOwnPropertyDescriptor,x=(o.f=i?$e:function(t,e){if(t=Le(t),e=De(e),Ue)try{return $e(t,e)}catch(t){}if(Fe(t,e))return Ce(!Me(Re.f,t,e),t[e])},{}),he=i&&t(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),Ne=n,qe=r.String,Ge=r.TypeError,He=j,Ke=w,Be=qt,Ve=r.TypeError,ze=Object.defineProperty,We=Object.getOwnPropertyDescriptor,Ye="enumerable",Xe="configurable",Je="writable",p=(x.f=i?he?function(t,e,n){var r;return Ke(t),e=Be(e),Ke(n),"function"==typeof t&&"prototype"===e&&"value"in n&&Je in n&&!n[Je]&&((r=We(t,e))&&r[Je]&&(t[e]=n.value,n={configurable:(Xe in n?n:r)[Xe],enumerable:(Ye in n?n:r)[Ye],writable:!1})),ze(t,e,n)}:ze:function(t,e,n){if(Ke(t),e=Be(e),Ke(n),He)try{return ze(t,e,n)}catch(t){}if("get"in n||"set"in n)throw Ve("Accessors not supported");return"value"in n&&(t[e]=n.value),t},i),Qe=x,Ze=J,y=p?function(t,e,n){return Qe.f(t,e,Ze(1,n))}:function(t,e,n){return t[e]=n,t},v={exports:{}},j=e,p=g,tn=f(Function.toString),j=(j(p.inspectSource)||(p.inspectSource=function(t){return tn(t)}),p.inspectSource),p=e,S=j,E=r.WeakMap,p=p(E)&&/native code/.test(S(E)),S=d.exports,en=Nt,nn=S("keys"),E={},S=f,rn=n,on=y,cn=b,P=Ht,T=E,un="Object already initialized",an=r.TypeError,k=r.WeakMap,p=(re=p||g.state?(Jt=g.state||(g.state=new k),Qt=S(Jt.get),Zt=S(Jt.has),te=S(Jt.set),ee=function(t,e){if(Zt(Jt,t))throw new an(un);return e.facade=t,te(Jt,t,e),e},ne=function(t){return Qt(Jt,t)||{}},function(t){return Zt(Jt,t)}):(T[oe=P("state")]=!0,ee=function(t,e){if(cn(t,oe))throw new an(un);return e.facade=t,on(t,oe,e),e},ne=function(t){return cn(t,oe)?t[oe]:{}},function(t){return cn(t,oe)}),{set:ee,get:ne,has:re,enforce:function(t){return re(t)?ne(t):ee(t,{})},getterFor:function(e){return function(t){if(rn(t)&&(t=ne(t)).type===e)return t;throw an("Incompatible receiver, "+e+" required")}}}),g=i,k=b,S=Function.prototype,T=g&&Object.getOwnPropertyDescriptor,P=k(S,"name"),k={EXISTS:P,PROPER:P&&"something"===function(){}.name,CONFIGURABLE:P&&(!g||T(S,"name").configurable)},fn=r,sn=e,ln=b,pn=y,hn=it,dn=j,vn=k.CONFIGURABLE,yn=p.get,gn=p.enforce,bn=String(String).split("String"),P=((v.exports=function(t,e,n,r){var o,i=!!r&&!!r.unsafe,c=!!r&&!!r.enumerable,u=!!r&&!!r.noTargetGet,r=r&&void 0!==r.name?r.name:e;sn(n)&&("Symbol("===String(r).slice(0,7)&&(r="["+String(r).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!ln(n,"name")||vn&&n.name!==r)&&pn(n,"name",r),(o=gn(n)).source||(o.source=bn.join("string"==typeof r?r:""))),t===fn?c?t[e]=n:hn(e,n):(i?!u&&t[e]&&(c=!0):delete t[e],c?t[e]=n:pn(t,e,n))})(Function.prototype,"toString",function(){return sn(this)&&yn(this).source||dn(this)}),{}),mn=Math.ceil,wn=Math.floor,On=Kt,xn=Math.max,jn=Math.min,Sn=Kt,En=Math.min,Pn=Vt,Tn=tt,kn=Bt,An=zt,g={includes:Wt(!0),indexOf:Wt(!1)},T=f,In=b,_n=tt,Mn=g.indexOf,Rn=E,Cn=T([].push),S=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ln=Yt,Dn=S.concat("length","prototype"),T=(P.f=Object.getOwnPropertyNames||function(t){return Ln(t,Dn)},{}),Fn=(T.f=Object.getOwnPropertySymbols,et),Un=P,$n=T,Nn=w,qn=f([].concat),P=Fn("Reflect","ownKeys")||function(t){var e=Un.f(Nn(t)),n=$n.f;return n?qn(e,n(t)):e},Gn=b,Hn=P,Kn=o,Bn=x,Vn=t,zn=e,Wn=/#|\.prototype\./,Yn=Xt.normalize=function(t){return String(t).replace(Wn,".").toLowerCase()},Xn=Xt.data={},Jn=Xt.NATIVE="N",Qn=Xt.POLYFILL="P",Fn=Xt,Zn=r,tr=o.f,er=y,nr=v.exports,rr=it,or=function(t,e,n){for(var r=Hn(e),o=Bn.f,i=Kn.f,c=0;c<r.length;c++){var u=r[c];Gn(t,u)||n&&Gn(n,u)||o(t,u,i(e,u))}},ir=Fn,cr=Yt,ur=S,P=Object.keys||function(t){return cr(t,ur)},ar=i,fr=f,sr=u,A=t,lr=P,pr=T,hr=a,dr=$t,vr=s,yr=Object.assign,gr=Object.defineProperty,br=fr([].concat),T=!yr||A(function(){if(ar&&1!==yr({b:1},yr(gr({},"a",{enumerable:!0,get:function(){gr(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=yr({},t)[n]||lr(yr({},e)).join("")!=r})?function(t,e){for(var n=dr(t),r=arguments.length,o=1,i=pr.f,c=hr.f;o<r;)for(var u,a=vr(arguments[o++]),f=i?br(lr(a),i(a)):lr(a),s=f.length,l=0;l<s;)u=f[l++],ar&&!sr(c,a,u)||(n[u]=a[u]);return n}:yr;O({target:"Object",stat:!0,forced:Object.assign!==T},{assign:T});function mr(t,e){return Er(t),void 0===e?t:Pr?Tr(t,e):function(){return t.apply(e,arguments)}}function wr(){}function Or(t){if(!Lr(t))return!1;try{return $r(wr,Ur,t),!0}catch(t){return!1}}function xr(t){if(!Lr(t))return!1;switch(Dr(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Gr||!!qr(Nr,Fr(t))}catch(t){return!0}}function jr(t,e){return new(Wr(t))(0===e?0:e)}function Sr(p){var h=1==p,d=2==p,v=3==p,y=4==p,g=6==p,b=7==p,m=5==p||g;return function(t,e,n,r){for(var o,i,c=Jr(t),u=Xr(c),a=Yr(e,n),f=Qr(u),s=0,e=r||jr,l=h?e(t,f):d||b?e(t,0):void 0;s<f;s++)if((m||s in u)&&(i=a(o=u[s],s,c),p))if(h)l[s]=i;else if(i)switch(p){case 3:return!0;case 5:return o;case 6:return s;case 2:Zr(l,o)}else switch(p){case 4:return!1;case 7:Zr(l,o)}return g?-1:v||y?y:l}}var Er=rt,Pr=c,Tr=f(f.bind),kr=Q,fr=Array.isArray||function(t){return"Array"==kr(t)},A={},T=(A[m("toStringTag")]="z","[object z]"===String(A)),A=r,I=T,Ar=e,Ir=Q,_r=m("toStringTag"),Mr=A.Object,Rr="Arguments"==Ir(function(){return arguments}()),A=I?Ir:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,e){try{return t[e]}catch(t){}}(t=Mr(t),_r))?e:Rr?Ir(t):"Object"==(e=Ir(t))&&Ar(t.callee)?"Arguments":e},I=f,Cr=t,Lr=e,Dr=A,Fr=j,Ur=[],$r=et("Reflect","construct"),Nr=/^\s*(?:class|function)\b/,qr=I(Nr.exec),Gr=!Nr.exec(wr),I=(xr.sham=!0,!$r||Cr(function(){var t;return Or(Or.call)||!Or(Object)||!Or(function(){t=!0})||t})?xr:Or),Cr=r,Hr=fr,Kr=I,Br=n,Vr=m("species"),zr=Cr.Array,Wr=function(t){var e;return Hr(t)&&(e=t.constructor,(Kr(e)&&(e===zr||Hr(e.prototype))||Br(e)&&null===(e=e[Vr]))&&(e=void 0)),void 0===e?zr:e},Yr=mr,Xr=s,Jr=$t,Qr=zt,Zr=f([].push),Cr={forEach:Sr(0),map:Sr(1),filter:Sr(2),some:Sr(3),every:Sr(4),find:Sr(5),findIndex:Sr(6),filterReject:Sr(7)},to=t,eo=Cr.forEach,s=function(t,e){var n=[][t];return!!n&&to(function(){n.call(null,e||function(){return 1},1)})}("forEach")?[].forEach:function(t){return eo(this,t,1<arguments.length?arguments[1]:void 0)};O({target:"Array",proto:!0,forced:[].forEach!=s},{forEach:s});function no(e){if(e&&e.forEach!==uo)try{ao(e,"forEach",uo)}catch(t){e.forEach=uo}}var ro,oo=A,_=v.exports,_=(T||_(Object.prototype,"toString",T?{}.toString:function(){return"[object "+oo(this)+"]"},{unsafe:!0}),Gt("span").classList),T=_&&_.constructor&&_.constructor.prototype,io=r,co={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},_=T===Object.prototype?void 0:T,uo=s,ao=y;for(ro in co)co[ro]&&no(io[ro]&&io[ro].prototype);no(_);var T={},fo=x,so=w,lo=tt,po=P;T.f=i&&!he?Object.defineProperties:function(t,e){so(t);for(var n,r=lo(e),o=po(e),i=o.length,c=0;c<i;)fo.f(t,n=o[c++],r[n]);return t};function ho(){}function vo(t){t.write(Eo("")),t.close();var e=t.parentWindow.Object;return t=null,e}var yo,s=et("document","documentElement"),go=w,bo=T,mo=S,_=E,wo=s,Oo=Gt,xo="prototype",jo="script",So=Ht("IE_PROTO"),Eo=function(t){return"<"+jo+">"+t+"</"+jo+">"},Po=function(){try{yo=new ActiveXObject("htmlfile")}catch(t){}Po="undefined"==typeof document||document.domain&&yo?vo(yo):(t=Oo("iframe"),e="java"+jo+":",t.style.display="none",wo.appendChild(t),t.src=String(e),(e=t.contentWindow.document).open(),e.write(Eo("document.F=Object")),e.close(),e.F);for(var t,e,n=mo.length;n--;)delete Po[xo][mo[n]];return Po()},he=(_[So]=!0,Object.create||function(t,e){var n;return null!==t?(ho[xo]=go(t),n=new ho,ho[xo]=null,n[So]=t):n=Po(),void 0===e?n:bo.f(n,e)});O({target:"Object",stat:!0,sham:!i},{create:he});function To(u){return function(t){for(var e,n=Io(t),r=Ao(n),o=r.length,i=0,c=[];i<o;)e=r[i++],ko&&!_o(n,e)||Mo(c,u?[e,n[e]]:n[e]);return c}}O({target:"Array",stat:!0},{isArray:fr});var ko=i,T=f,Ao=P,Io=tt,_o=T(a.f),Mo=T([].push),S=O,Ro={entries:To(!0),values:To(!1)}.entries;S({target:"Object",stat:!0},{entries:function(t){return Ro(t)}});function Co(t){var e;return $o(t)&&(void 0!==(e=t[qo])?!!e:"RegExp"==No(t))}function Lo(t){if("Symbol"===Ko(t))throw TypeError("Cannot convert a Symbol value to a string");return Bo(t)}var E=he,_=x,Do=m("unscopables"),Fo=Array.prototype,a=(null==Fo[Do]&&_.f(Fo,Do,{configurable:!0,value:E(null)}),O),Uo=g.includes,T=function(t){Fo[Do][t]=!0},$o=(a({target:"Array",proto:!0},{includes:function(t){return Uo(this,t,1<arguments.length?arguments[1]:void 0)}}),T("includes"),n),No=Q,qo=m("match"),Go=Co,Ho=r.TypeError,Ko=A,Bo=r.String,Vo=m("match"),S=O,zo=function(t){if(Go(t))throw Ho("The method doesn't accept regular expressions");return t},Wo=Z,Yo=Lo,_=function(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[Vo]=!1,"/./"[e](n)}catch(t){}}return!1},Xo=f("".indexOf);S({target:"String",proto:!0,forced:!_("includes")},{includes:function(t){return!!~Xo(Yo(Wo(this)),Yo(zo(t)),1<arguments.length?arguments[1]:void 0)}});function Jo(e){return 51<=ei||!ti(function(){var t=[];return(t.constructor={})[ni]=function(){return{foo:1}},1!==t[e](Boolean).foo})}var Qo=$t,Zo=P,ti=(O({target:"Object",stat:!0,forced:t(function(){Zo(1)})},{keys:function(t){return Zo(Qo(t))}}),t),ei=h,ni=m("species"),E=O,ri=Cr.filter,g=(E({target:"Array",proto:!0,forced:!Jo("filter")},{filter:function(t){return ri(this,t,1<arguments.length?arguments[1]:void 0)}}),O),a=f,oi=r.Date,ii=a(oi.prototype.getTime),T=(g({target:"Date",stat:!0},{now:function(){return ii(new oi)}}),f),S=v.exports,_=Date.prototype,ci="Invalid Date",P="toString",ui=T(_[P]),ai=T(_.getTime);String(new Date(NaN))!=ci&&S(_,P,function(){var t=ai(this);return t==t?ui(this):ci});function fi(t,e,n){(e=Oi(e))in t?xi.f(t,e,ji(0,n)):t[e]=n}var Cr=f([].slice),E=f,si=rt,li=n,pi=b,hi=Cr,a=c,di=r.Function,vi=E([].concat),yi=E([].join),gi={},g=a?di.bind:function(c){var u=si(this),t=u.prototype,a=hi(arguments,1),f=function(){var t=vi(a,hi(arguments));if(this instanceof f){var e=u,n=t.length,r=t;if(!pi(gi,n)){for(var o=[],i=0;i<n;i++)o[i]="a["+i+"]";gi[n]=di("C,a","return new C("+yi(o,",")+")")}return gi[n](e,r)}return u.apply(c,t)};return li(t)&&(f.prototype=t),f},T=(O({target:"Function",proto:!0,forced:Function.bind!==g},{bind:g}),i),S=k.EXISTS,_=f,P=x.f,E=Function.prototype,bi=_(E.toString),mi=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,wi=_(mi.exec),Oi=(T&&!S&&P(E,"name",{configurable:!0,get:function(){try{return wi(mi,bi(this))[1]}catch(t){return""}}}),qt),xi=x,ji=J,a=O,g=r,Si=fr,Ei=I,Pi=n,Ti=Bt,ki=zt,Ai=tt,Ii=fi,k=m,_i=Cr,_=Jo("slice"),Mi=k("species"),Ri=g.Array,Ci=Math.max;a({target:"Array",proto:!0,forced:!_},{slice:function(t,e){var n,r,o,i=Ai(this),c=ki(i),u=Ti(t,c),a=Ti(void 0===e?c:e,c);if(Si(i)&&(n=i.constructor,(n=Ei(n)&&(n===Ri||Si(n.prototype))||Pi(n)&&null===(n=n[Mi])?void 0:n)===Ri||void 0===n))return _i(i,u,a);for(r=new(void 0===n?Ri:n)(Ci(a-u,0)),o=0;u<a;u++,o++)u in i&&Ii(r,o,i[u]);return r.length=o,r}});function Li(t){if(null!=t)return rc(t,ic)||rc(t,"@@iterator")||oc[nc(t)]}function Di(t,e){this.stopped=t,this.result=e}var T=r.Promise,Fi=v.exports,Ui=e,$i=r.String,Ni=r.TypeError,qi=f,Gi=w,Hi=function(t){if("object"==typeof t||Ui(t))return t;throw Ni("Can't set "+$i(t)+" as a prototype")},S=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,t={};try{(n=qi(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(t,[]),r=t instanceof Array}catch(t){}return function(t,e){return Gi(t),Hi(e),r?n(t,e):t.__proto__=e,t}}():void 0),Ki=x.f,Bi=b,Vi=m("toStringTag"),zi=et,Wi=x,Yi=i,Xi=m("species"),Ji=l,Qi=r.TypeError,P={},Zi=P,tc=m("iterator"),ec=Array.prototype,nc=A,rc=ot,oc=P,ic=m("iterator"),cc=u,uc=rt,ac=w,fc=nt,sc=Li,lc=r.TypeError,pc=u,hc=w,dc=ot,vc=mr,yc=u,gc=w,bc=nt,mc=function(t){return void 0!==t&&(Zi.Array===t||ec[tc]===t)},wc=zt,Oc=l,xc=function(t,e){var n=arguments.length<2?sc(t):e;if(uc(n))return ac(cc(n,t));throw lc(fc(t)+" is not iterable")},jc=Li,Sc=function(t,e,n){var r,o;hc(t);try{if(!(r=dc(t,"return"))){if("throw"===e)throw n;return n}r=pc(r,t)}catch(t){o=!0,r=t}if("throw"===e)throw n;if(o)throw r;return hc(r),n},Ec=r.TypeError,Pc=Di.prototype,Tc=m("iterator"),kc=!1;try{var Ac=0,Ic={next:function(){return{done:!!Ac++}},return:function(){kc=!0}};Ic[Tc]=function(){return this},Array.from(Ic,function(){throw 2})}catch(t){}function _c(t,e){return void 0===(t=Uc(t).constructor)||null==(t=Uc(t)[Nc])?e:$c(t)}function Mc(t,e){if(t<e)throw Hc("Not enough arguments");return t}var Rc,Cc,Lc=I,Dc=nt,Fc=r.TypeError,Uc=w,$c=function(t){if(Lc(t))return t;throw Fc(Dc(t)+" is not a constructor")},Nc=m("species"),E=Function.prototype,qc=E.apply,Gc=E.call,fr="object"==typeof Reflect&&Reflect.apply||(c?Gc.bind(qc):function(){return Gc.apply(qc,arguments)}),Hc=r.TypeError,k=/(?:ipad|iphone|ipod).*applewebkit/i.test(Ot),g="process"==Q(r.process),M=r,Kc=fr,a=mr,Bc=e,Vc=b,_=t,zc=s,Wc=Cr,Yc=Gt,Xc=Mc,x=k,i=g,A=M.setImmediate,P=M.clearImmediate,Jc=M.process,Qc=M.Dispatch,Zc=M.Function,l=M.MessageChannel,tu=M.String,eu=0,nu={},ru="onreadystatechange";try{Rc=M.location}catch(t){}function ou(t){return function(){gu(t)}}function iu(t){gu(t.data)}function cu(t){M.postMessage(tu(t),Rc.protocol+"//"+Rc.host)}function uu(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=Ou(n),this.reject=Ou(r)}function au(t,e){return xu(t),ju(e)&&e.constructor===t?e:((0,(t=Su.f(t)).resolve)(e),t.promise)}function fu(){this.head=null,this.tail=null}var su,lu,pu,hu,du,vu,yu,gu=function(t){var e;Vc(nu,t)&&(e=nu[t],delete nu[t],e())},E=(A&&P||(A=function(t){Xc(arguments.length,1);var e=Bc(t)?t:Zc(t),n=Wc(arguments,1);return nu[++eu]=function(){Kc(e,void 0,n)},Cc(eu),eu},P=function(t){delete nu[t]},i?Cc=function(t){Jc.nextTick(ou(t))}:Qc&&Qc.now?Cc=function(t){Qc.now(ou(t))}:l&&!x?(I=(Ic=new l).port2,Ic.port1.onmessage=iu,Cc=a(I.postMessage,I)):M.addEventListener&&Bc(M.postMessage)&&!M.importScripts&&Rc&&"file:"!==Rc.protocol&&!_(cu)?(Cc=cu,M.addEventListener("message",iu,!1)):Cc=ru in Yc("script")?function(t){zc.appendChild(Yc("script"))[ru]=function(){zc.removeChild(this),gu(t)}}:function(t){setTimeout(ou(t),0)}),{set:A,clear:P}),c=r,b=/ipad|iphone|ipod/i.test(Ot)&&void 0!==c.Pebble,s=/web0s(?!.*chrome)/i.test(Ot),i=r,x=mr,l=o.f,bu=E.set,Ic=k,a=b,I=s,mu=g,_=i.MutationObserver||i.WebKitMutationObserver,A=i.document,wu=i.process,P=i.Promise,c=l(i,"queueMicrotask"),o=c&&c.value,b=(o||(su=function(){var t,e;for(mu&&(t=wu.domain)&&t.exit();lu;){e=lu.fn,lu=lu.next;try{e()}catch(t){throw lu?hu():pu=void 0,t}}pu=void 0,t&&t.enter()},hu=Ic||mu||I||!_||!A?!a&&P&&P.resolve?((k=P.resolve(void 0)).constructor=P,yu=x(k.then,k),function(){yu(su)}):mu?function(){wu.nextTick(su)}:(bu=x(bu,i),function(){bu(su)}):(du=!0,vu=A.createTextNode(""),new _(su).observe(vu,{characterData:!0}),function(){vu.data=du=!du})),o||function(t){t={fn:t,next:void 0};pu&&(pu.next=t),lu||(lu=t,hu()),pu=t}),s={},Ou=rt,xu=(s.f=function(t){return new uu(t)},w),ju=n,Su=s,Eu=r;fu.prototype={add:function(t){t={item:t,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}};function Pu(t,e){var n,r,o,i,c=e.value,u=e.state==fa,a=u?t.ok:t.fail,f=t.resolve,s=t.reject,l=t.domain;try{a?(u||(e.rejection===pa&&(i=e,Mu(Nu,_u,function(){var t=i.facade;zu?na.emit("rejectionHandled",t):ya(aa,t,i.value)})),e.rejection=la),!0===a?n=c:(l&&l.enter(),n=a(c),l&&(l.exit(),o=!0)),n===t.promise?s(ta("Promise-chain cycle")):(r=da(n))?Mu(r,n,f,s):f(n)):s(c)}catch(t){l&&!o&&l.exit(),s(t)}}var Tu,ku,Au,Iu,l="object"==typeof window,c=O,_u=r,Ic=et,Mu=u,I=T,a=v.exports,P=function(t,e,n){for(var r in e)Fi(t,r,e[r],n);return t},k=S,x=function(t,e,n){(t=t&&!n?t.prototype:t)&&!Bi(t,Vi)&&Ki(t,Vi,{configurable:!0,value:e})},i=function(t){var t=zi(t),e=Wi.f;Yi&&t&&!t[Xi]&&e(t,Xi,{configurable:!0,get:function(){return this}})},Ru=rt,Cu=e,Lu=n,Du=function(t,e){if(Ji(e,t))return t;throw Qi("Incorrect invocation")},Fu=j,Uu=function(t,e,n){function r(t){return i&&Sc(i,"normal",t),new Di(!0,t)}function o(t){return p?(gc(t),d?v(t[0],t[1],r):v(t[0],t[1])):d?v(t,r):v(t)}var i,c,u,a,f,s,l=n&&n.that,p=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_ITERATOR),d=!(!n||!n.INTERRUPTED),v=vc(e,l);if(h)i=t;else{if(!(n=jc(t)))throw Ec(bc(t)+" is not iterable");if(mc(n)){for(c=0,u=wc(t);c<u;c++)if((a=o(t[c]))&&Oc(Pc,a))return a;return new Di(!1)}i=xc(t,n)}for(f=i.next;!(s=yc(f,i)).done;){try{a=o(s.value)}catch(t){Sc(i,"throw",t)}if("object"==typeof a&&a&&Oc(Pc,a))return a}return new Di(!1)},A=function(t,e){if(!e&&!kc)return!1;var n=!1;try{var r={};r[Tc]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},$u=_c,Nu=E.set,qu=b,Gu=au,Hu=function(t,e){var n=Eu.console;n&&n.error&&(1==arguments.length?n.error(t):n.error(t,e))},_=s,Ku=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Bu=fu,o=p,S=Fn,Vu=l,zu=g,Wu=h,Yu=m("species"),R="Promise",Xu=o.getterFor(R),Ju=o.set,Qu=o.getterFor(R),j=I&&I.prototype,C=I,Zu=j,ta=_u.TypeError,ea=_u.document,na=_u.process,ra=_.f,oa=ra,ia=!!(ea&&ea.createEvent&&_u.dispatchEvent),ca=Cu(_u.PromiseRejectionEvent),ua="unhandledrejection",aa="rejectionhandled",fa=1,sa=2,la=1,pa=2,ha=!1,E=S(R,function(){var t=Fu(C),e=t!==String(C);if(!e&&66===Wu)return!0;if(51<=Wu&&/native code/.test(t))return!1;function n(t){t(function(){},function(){})}t=new C(function(t){t(1)});return(t.constructor={})[Yu]=n,!(ha=t.then(function(){})instanceof n)||!e&&Vu&&!ca}),b=E||!A(function(t){C.all(t).catch(function(){})}),da=function(t){var e;return!(!Lu(t)||!Cu(e=t.then))&&e},va=function(n,o){n.notified||(n.notified=!0,qu(function(){for(var t,r,e=n.reactions;t=e.get();)Pu(t,n);n.notified=!1,o&&!n.rejection&&(r=n,Mu(Nu,_u,function(){var t=r.facade,e=r.value,n=ga(r);if(n&&(n=Ku(function(){zu?na.emit("unhandledRejection",e,t):ya(ua,t,e)}),r.rejection=zu||ga(r)?pa:la,n.error))throw n.value}))}))},ya=function(t,e,n){var r;ia?((r=ea.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),_u.dispatchEvent(r)):r={promise:e,reason:n},!ca&&(e=_u["on"+t])?e(r):t===ua&&Hu("Unhandled promise rejection",n)},ga=function(t){return t.rejection!==la&&!t.parent},ba=function(e,n,r){return function(t){e(n,t,r)}},ma=function(t,e,n){t.done||(t.done=!0,(t=n?n:t).value=e,t.state=sa,va(t,!0))},wa=function(n,t,e){if(!n.done){n.done=!0,e&&(n=e);try{if(n.facade===t)throw ta("Promise can't be resolved itself");var r=da(t);r?qu(function(){var e={done:!1};try{Mu(r,t,ba(wa,e,n),ba(ma,e,n))}catch(t){ma(e,t,n)}}):(n.value=t,n.state=fa,va(n,!1))}catch(t){ma({done:!1},t,n)}}};if(E&&(Zu=(C=function(t){Du(this,Zu),Ru(t),Mu(Tu,this);var e=Xu(this);try{t(ba(wa,e),ba(ma,e))}catch(t){ma(e,t)}}).prototype,(Tu=function(t){Ju(this,{type:R,done:!1,notified:!1,parent:!1,reactions:new Bu,rejection:!1,state:0,value:void 0})}).prototype=P(Zu,{then:function(t,e){var n=Qu(this),r=ra($u(this,C));return n.parent=!0,r.ok=!Cu(t)||t,r.fail=Cu(e)&&e,r.domain=zu?na.domain:void 0,0==n.state?n.reactions.add(r):qu(function(){Pu(r,n)}),r.promise},catch:function(t){return this.then(void 0,t)}}),ku=function(){var t=new Tu,e=Xu(t);this.promise=t,this.resolve=ba(wa,e),this.reject=ba(ma,e)},_.f=ra=function(t){return t===C||t===Au?new ku:oa(t)},Cu(I)&&j!==Object.prototype)){Iu=j.then,ha||(a(j,"then",function(t,e){var n=this;return new C(function(t,e){Mu(Iu,n,t,e)}).then(t,e)},{unsafe:!0}),a(j,"catch",Zu.catch,{unsafe:!0}));try{delete j.constructor}catch(t){}k&&k(j,Zu)}c({global:!0,wrap:!0,forced:E},{Promise:C}),x(C,R,!1),i(R),Au=Ic(R),c({target:R,stat:!0,forced:E},{reject:function(t){var e=ra(this);return Mu(e.reject,void 0,t),e.promise}}),c({target:R,stat:!0,forced:E},{resolve:function(t){return Gu(this,t)}}),c({target:R,stat:!0,forced:b},{all:function(t){var u=this,e=ra(u),a=e.resolve,f=e.reject,n=Ku(function(){var r=Ru(u.resolve),o=[],i=0,c=1;Uu(t,function(t){var e=i++,n=!1;c++,Mu(r,u,t).then(function(t){n||(n=!0,o[e]=t,--c||a(o))},f)}),--c||a(o)});return n.error&&f(n.value),e.promise},race:function(t){var n=this,r=ra(n),o=r.reject,e=Ku(function(){var e=Ru(n.resolve);Uu(t,function(t){Mu(e,n,t).then(r.resolve,o)})});return e.error&&o(e.value),r.promise}});function Oa(){var t=Pa(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}function xa(n,t,e,r){var c,o=Wa(n),u=!za(function(){var t={};return t[o]=function(){return 7},7!=""[n](t)}),i=u&&!za(function(){var t=!1,e=/a/;return"split"===n&&((e={constructor:{}}).constructor[Xa]=function(){return e},e.flags="",e[o]=/./[o]),e.exec=function(){return t=!0,null},e[o](""),!t});u&&i&&!e||(c=Ka(/./[o]),i=t(o,""[n],function(t,e,n,r,o){var t=Ka(t),i=e.exec;return i===Va||i===Ja.exec?u&&!o?{done:!0,value:c(e,n,r)}:{done:!0,value:t(n,e,r)}:{done:!1}}),Ba(String.prototype,n,i[0]),Ba(Ja,o,i[1])),r&&Ya(Ja[o],"sham",!0)}function ja(o){return function(t,e){var n,t=Za(tf(t)),e=Qa(e),r=t.length;return e<0||r<=e?o?"":void 0:(n=nf(t,e))<55296||56319<n||e+1===r||(r=nf(t,e+1))<56320||57343<r?o?ef(t,e):n:o?rf(t,e,e+2):r-56320+(n-55296<<10)+65536}}function Sa(t,e,n){return e+(n?of(t,e).length:1)}function Ea(t,e){var n=t.exec;if(hf(n))return null!==(n=lf(n,t,e))&&pf(n),n;if("RegExp"===df(t))return lf(vf,t,e);throw yf("RegExp#exec called on incompatible receiver")}var Pa=w,s=t,Ta=r.RegExp,Fn=s(function(){var t=Ta("a","y");return t.lastIndex=2,null!=t.exec("abcd")}),l=Fn||s(function(){return!Ta("a","y").sticky}),g={BROKEN_CARET:Fn||s(function(){var t=Ta("^r","gy");return t.lastIndex=2,null!=t.exec("str")}),MISSED_STICKY:l,UNSUPPORTED_Y:Fn},h=t,ka=r.RegExp,o=h(function(){var t=ka(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}),S=t,Aa=r.RegExp,A=S(function(){var t=Aa("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}),Ia=u,P=f,_a=Lo,_=g,I=d.exports,Ma=he,Ra=p.get,a=o,k=A,Ca=I("native-string-replace",String.prototype.replace),La=RegExp.prototype.exec,Da=La,Fa=P("".charAt),Ua=P("".indexOf),$a=P("".replace),Na=P("".slice),qa=(j=/b*/g,Ia(La,x=/a/,"a"),Ia(La,j,"a"),0!==x.lastIndex||0!==j.lastIndex),Ga=_.BROKEN_CARET,Ha=void 0!==/()??/.exec("")[1],i=Da=qa||Ha||Ga||a||k?function(t){var e,n,r,o,i,c,u=this,a=Ra(u),t=_a(t),f=a.raw;if(f)return f.lastIndex=u.lastIndex,l=Ia(Da,f,t),u.lastIndex=f.lastIndex,l;var s=a.groups,f=Ga&&u.sticky,l=Ia(Oa,u),a=u.source,p=0,h=t;if(f&&(l=$a(l,"y",""),-1===Ua(l,"g")&&(l+="g"),h=Na(t,u.lastIndex),0<u.lastIndex&&(!u.multiline||u.multiline&&"\n"!==Fa(t,u.lastIndex-1))&&(a="(?: "+a+")",h=" "+h,p++),e=new RegExp("^(?:"+a+")",l)),Ha&&(e=new RegExp("^"+a+"$(?!\\s)",l)),qa&&(n=u.lastIndex),r=Ia(La,f?e:u,h),f?r?(r.input=Na(r.input,p),r[0]=Na(r[0],p),r.index=u.lastIndex,u.lastIndex+=r[0].length):u.lastIndex=0:qa&&r&&(u.lastIndex=u.global?r.index+r[0].length:n),Ha&&r&&1<r.length&&Ia(Ca,r[0],e,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r&&s)for(r.groups=i=Ma(null),o=0;o<s.length;o++)i[(c=s[o])[0]]=r[c[1]];return r}:Da,Ka=(O({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i}),f),Ba=v.exports,Va=i,za=t,Wa=m,Ya=y,Xa=Wa("species"),Ja=RegExp.prototype,Ic=f,Qa=Kt,Za=Lo,tf=Z,ef=Ic("".charAt),nf=Ic("".charCodeAt),rf=Ic("".slice),of={codeAt:ja(!1),charAt:ja(!0)}.charAt,cf=Bt,uf=zt,af=fi,ff=r.Array,sf=Math.max,lf=u,pf=w,hf=e,df=Q,vf=i,yf=r.TypeError,gf=fr,bf=u,E=f,c=xa,mf=Co,wf=w,Of=Z,xf=_c,jf=Sa,Sf=Vt,Ef=Lo,Pf=ot,Tf=function(t,e,n){for(var r=uf(t),o=cf(e,r),i=cf(void 0===n?r:n,r),c=ff(sf(i-o,0)),u=0;o<i;o++,u++)af(c,u,t[o]);return c.length=u,c},kf=Ea,Af=i,b=t,If=g.UNSUPPORTED_Y,_f=4294967295,Mf=Math.min,Rf=[].push,Cf=E(/./.exec),Lf=E(Rf),Df=E("".slice),s=(c("split",function(o,d,v){var y="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(t,e){var n=Ef(Of(this)),r=void 0===e?_f:e>>>0;if(0==r)return[];if(void 0===t)return[n];if(!mf(t))return bf(d,n,t,r);for(var o,i,c,u=[],e=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),a=0,f=new RegExp(t.source,e+"g");(o=bf(Af,f,n))&&!(a<(i=f.lastIndex)&&(Lf(u,Df(n,a,o.index)),1<o.length&&o.index<n.length&&gf(Rf,u,Tf(o,1)),c=o[0].length,a=i,r<=u.length));)f.lastIndex===o.index&&f.lastIndex++;return a===n.length?!c&&Cf(f,"")||Lf(u,""):Lf(u,Df(n,a)),r<u.length?Tf(u,0,r):u}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:bf(d,this,t,e)}:d;return[function(t,e){var n=Of(this),r=null==t?void 0:Pf(t,o);return r?bf(r,t,n,e):bf(y,Ef(n),t,e)},function(t,e){var n=wf(this),r=Ef(t),t=v(y,n,r,e,y!==d);if(t.done)return t.value;var t=xf(n,RegExp),o=n.unicode,i=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(If?"g":"y"),c=new t(If?"^(?:"+n.source+")":n,i),u=void 0===e?_f:e>>>0;if(0==u)return[];if(0===r.length)return null===kf(c,r)?[r]:[];for(var a=0,f=0,s=[];f<r.length;){c.lastIndex=If?0:f;var l,p=kf(c,If?Df(r,f):r);if(null===p||(l=Mf(Sf(c.lastIndex+(If?f:0)),r.length))===a)f=jf(r,f,o);else{if(Lf(s,Df(r,a,f)),s.length===u)return s;for(var h=1;h<=p.length-1;h++)if(Lf(s,p[h]),s.length===u)return s;f=a=l}}return Lf(s,Df(r,a)),s}]},!!b(function(){var t=/(?:)/,e=t.exec,t=(t.exec=function(){return e.apply(this,arguments)},"ab".split(t));return 2!==t.length||"a"!==t[0]||"b"!==t[1]}),If),f),Ff=$t,Uf=Math.floor,$f=s("".charAt),Nf=s("".replace),qf=s("".slice),Gf=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Hf=/\$([$&'`]|\d{1,2})/g,Kf=fr,Bf=u,l=f,Fn=xa,h=t,Vf=w,zf=e,Wf=Kt,Yf=Vt,Xf=Lo,Jf=Z,Qf=Sa,Zf=ot,ts=function(i,c,u,a,f,t){var s=u+i.length,l=a.length,e=Hf;return void 0!==f&&(f=Ff(f),e=Gf),Nf(t,e,function(t,e){var n;switch($f(e,0)){case"$":return"$";case"&":return i;case"`":return qf(c,0,u);case"'":return qf(c,s);case"<":n=f[qf(e,1,-1)];break;default:var r,o=+e;if(0==o)return t;if(l<o)return 0!==(r=Uf(o/10))&&r<=l?void 0===a[r-1]?$f(e,1):a[r-1]+$f(e,1):t;n=a[o-1]}return void 0===n?"":n})},es=Ea,ns=m("replace"),rs=Math.max,os=Math.min,is=l([].concat),cs=l([].push),us=l("".indexOf),as=l("".slice),S="$0"==="a".replace(/./,"$0"),fs=!!/./[ns]&&""===/./[ns]("a","$0");function ss(){return(t=getCurrentPages())[t.length-1].route;var t}function ls(){var t=getCurrentPages();if(2<=t.length)return t[t.length-2].route}Fn("replace",function(t,m,w){var O=fs?"$":"$0";return[function(t,e){var n=Jf(this),r=null==t?void 0:Zf(t,ns);return r?Bf(r,t,n,e):Bf(m,Xf(n),t,e)},function(t,e){var n=Vf(this),r=Xf(t);if("string"==typeof e&&-1===us(e,O)&&-1===us(e,"$<")){t=w(m,n,r,e);if(t.done)return t.value}for(var o,i=zf(e),c=(i||(e=Xf(e)),n.global),u=(c&&(o=n.unicode,n.lastIndex=0),[]);null!==(p=es(n,r))&&(cs(u,p),c);)""===Xf(p[0])&&(n.lastIndex=Qf(r,Yf(n.lastIndex),o));for(var a,f="",s=0,l=0;l<u.length;l++){for(var p,h=Xf((p=u[l])[0]),d=rs(os(Wf(p.index),r.length),0),v=[],y=1;y<p.length;y++)cs(v,void 0===(a=p[y])?a:String(a));var g=p.groups,b=i?(b=is([h],v,d,r),void 0!==g&&cs(b,g),Xf(Kf(e,void 0,b))):ts(h,r,d,v,g,e);s<=d&&(f+=as(r,s,d)+b,s=d+h.length)}return f+as(r,s)}]},!!h(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})||!S||fs);function ps(t,e){return function(){return"function"==typeof e&&e.apply(this,Array.prototype.slice.call(arguments)),"function"==typeof t&&t.apply(this,arguments)}}function hs(){var t=getCurrentPages();return t.length?t[t.length-1]:{}}var ds=/[^\w.$]/;function vs(t){var n;if(!ds.test(t))return n=t.split("."),function(t){for(var e=0;e<n.length;e++){if(!t)return;t=t[n[e]]}return t}}function ys(t){if(!ds.test(t))return t=t.split("."),t[t.length-1]}function gs(i){return function(t,e){var n=2<Os(arguments.length,1),r=ms(t)?t:xs(t),o=n?ws(arguments,2):void 0;return i(n?function(){bs(r,this,o)}:r,e)}}var d=O,he=r,bs=fr,ms=e,ws=Cr,Os=Mc,p=/MSIE .\./.test(Ot),xs=he.Function,o=(d({global:!0,bind:!0,forced:p},{setTimeout:gs(he.setTimeout),setInterval:gs(he.setInterval)}),O),js=T,A=t,Ss=et,Es=e,Ps=_c,Ts=au,I=v.exports;o({target:"Promise",proto:!0,real:!0,forced:!!js&&A(function(){js.prototype.finally.call({then:function(){}},function(){})})},{finally:function(e){var n=Ps(this,Ss("Promise")),t=Es(e);return this.then(t?function(t){return Ts(n,e()).then(function(){return t})}:e,t?function(t){return Ts(n,e()).then(function(){throw t})}:e)}}),Es(js)&&(P=Ss("Promise").prototype.finally,js.prototype.finally!==P&&I(js.prototype,"finally",P,{unsafe:!0}));var L,ks=new(function(){function e(t){$(this,e),this.defaults=t;["get","post"].forEach(function(r){e.prototype[r]=function(t,e,n){return this.request(t,e,U(U({},n),{},{method:r.toUpperCase()}))}})}return q(e,[{key:"request",value:function(t,r,o){var i=this;return new Promise(function(e,n){wx.request(U(U({},i.defaults),U(U({url:t,data:r},o),{},{success:function(t){e(t.data)},fail:function(t){console.error("request fail",t),n(t)}})))})}}]),e}())({method:"GET",header:{"content-type":"application/json"},timeout:6e4}),As=function(){function r(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if($(this,r),this.defaultOptions={delay:1e3,timeout:6e4},this.timerId=null,r.instance)return r.instance;this.config=Object.assign(this.defaultOptions,t),this.queue=[],r.instance=this}return q(r,[{key:"getSingleton",value:function(){return this.instance||r.getInstance.apply(r,arguments)}},{key:"track",value:function(t,e){var n=this;this.queue.push(e),this.timerId||(this.timerId=setTimeout(function(){n._flush()},this.config.delay))}},{key:"_flush",value:function(){var t,e=this;if(0<this.queue.length){var n=this.queue.shift();if(void 0!==(t=this.config.reporter)&&"undefined"!==t&&"function"==typeof this.config.reporter)n.eventId&&console.table(n),setTimeout(function(){e._flush()},this.config.delay);else{try{JSON.stringify(n)}catch(t){console.error(t)}var r={event_id:"web_".concat(n.eventId),label:n.label||"",json:n};ks.post(this.config.url,r,{timeout:this.config.timeout}).then(function(){console.table(r)}).catch(function(t){console.error(t),e.queue.push(n)}).finally(function(){setTimeout(function(){e._flush()},e.config.delay)})}}else this.timerId=null}},{key:"changeReporterEngine",value:function(t){this.config.reporter=t}}],[{key:"getInstance",value:function(){if(!this.instance){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.instance=B(r,e)}return this.instance}}]),r}(),Is=function(){function t(){$(this,t),this.extraPageMethods=[]}return q(t,[{key:"addExtraMethod",value:function(n,t){t.forEach(function(t){var e=t.name;"function"!=typeof n[e]&&(n[e]=t)})}},{key:"addPageMethodExtra",value:function(t){this.extraPageMethods.push(t)}}]),t}(),_s=function(){var t=i,e=Is;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H(t,e);n=i,r=K();var n,r,o=function(){var t,e=G(n);return z(this,r?(t=G(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))};function i(){var e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if($(this,i),e=o.call(this),Ms.call(V(e)),i.instance)return z(e,i.instance);e.config=Object.assign(e.defaultConf,n),e.tracks=e.config.tracks;var r=e.config.collector;return e.addPageMethodExtra(e.elementTracker()),App=function(t){return r.oldApp(e._proxyAppOptions(t,n))},Page=function(t){return r.oldPage(e._proxyPageOptions(t,n))},Component=function(t){return r.oldComponent(e._proxyComponentOptions(t,n))},i.instance=V(e),e}return q(i,[{key:"elementTracker",value:function(){var e=this;return function(o){var t=e.findActivePageTracks("element"),i=hs().data;t&&t.forEach(function(r){var n;n=r.element,new Promise(function(e){var t=wx.createSelectorQuery();t.selectAll(n).boundingClientRect(),t.selectViewport().scrollOffset(),t.exec(function(t){return e({boundingClientRect:t[0],scrollOffset:t[1]})})}).then(function(n){n.boundingClientRect.forEach(function(t){var e=function(t,e,n){if(!e)return!1;var t=t.detail,r=t.x,t=t.y,o=e.left,i=e.right,c=e.top,e=e.height,n=n.scrollTop;return o<r&&r<i&&n+c<t&&t<n+c+e}(o,t,n.scrollOffset);r.dataset=t.dataset,e&&L.track(r,i)})})})}}},{key:"methodTracker",value:function(t,e){var n=this.findActivePageTracks("method"),r=hs().data;this.commonPoint(t)||this.tapPoint(t,n,r,e)}},{key:"comMethodTracker",value:function(t,e,n){var r=this.findActivePageTracks("comMethod");this.tapPoint(t,r,n,e)}},{key:"tapPoint",value:function(e,t,r,n){var o,i=function(t){for(var e in t)if(t.hasOwnProperty(e))return;return 1}(null==n||null==(o=n.currentTarget)?void 0:o.dataset)?{detail:(null==n?void 0:n.detail)||{}}:n.currentTarget.dataset;t&&t.forEach(function(t){var n;t.method===e&&(n={eventId:"".concat(t.feature),label:"".concat(t.label),param:Object.create(null)},t.labelKey&&(n.label=vs(t.labelKey)(i)),Array.isArray(t.dataKeys)&&t.dataKeys.forEach(function(t){"[object Object]"===Object.prototype.toString.call(t)?Object.entries(t).forEach(function(t){var t=W(t,2),e=t[0],t=t[1];n.param[e]=vs(t)(r)}):ys(t)?n.param[ys(t)]=vs(t)(r):n.param[t]=vs(t)(r)}),Array.isArray(t.objKeys)&&t.objKeys.forEach(function(t){"[object Object]"===Object.prototype.toString.call(t)?Object.entries(t).forEach(function(t){var t=W(t,2),e=t[0],t=t[1];n.param[e]=vs(t)(i)}):ys(t)?n.param[ys(t)]=vs(t)(i):n.param[t]=vs(t)(i)}),L.track(e,n))})}},{key:"commonPointStrategy",value:function(t){"function"==typeof this.strategies[t]&&this.strategies[t]()}},{key:"commonPoint",value:function(t){return!!Object.keys(this.strategies).includes(t)&&(this.commonPointStrategy(t),!0)}},{key:"findActivePageTracks",value:function(t){try{var e=hs().route,n=this.tracks.filter(function(t){return t.path===e}),r=[];return"method"===t?r=n[0].methodTracks:"element"===t?r=n[0].elementTracks:"comMethod"===t&&(r=n[0].comMethodTracks),r}catch(t){return[]}}}],[{key:"getInstance",value:function(){if(!this.instance){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.instance=B(i,e)}return this.instance}}]),i}(),Ms=function(){var r=this;this.defaultConf={collector:{oldApp:App,oldPage:Page,oldComponent:Component},tracks:{}},this.strategies={onShareAppMessage:function(){L.track("onShareAppMessage",{eventId:"web_on_share_app_message",toUrl:ss(),fromUrl:ls(),time:Date.now()})}},this._proxyAppOptions=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return t.$ta={track:L.track.bind(L)},e.autoTrack.appLaunch&&(t.onLaunch=ps(t.onLaunch,function(){this.$ta.track("appLaunch",{event:"appLaunch"})})),e.autoTrack.appShow&&(t.onShow=ps(t.onShow,function(){var t={event:"appShow",toUrl:ss(),fromUrl:ls()};this.$ta.track("appShow",t)})),e.autoTrack.onHide&&(t.onHide=void t.onHide),t},this._proxyPageOptions=function(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};for(e in t)t.hasOwnProperty(e)&&"function"==typeof t[e]&&(t[e]=function(e,n){return ps(e,function(t){"function"==typeof n&&n(e.name,t)})}(t[e],function(t,e){r.methodTracker(t,e)}));return r.addExtraMethod(t,r.extraPageMethods),t.$ta={track:L.track.bind(L)},n.autoTrack.pageShow&&(t.onShow=ps(t.onShow,function(){var t={event:"pageShow",toUrl:ss(),fromUrl:ls()};this.$ta.track("pageShow",t)})),n.autoTrack.pageHide&&(t.onHide=ps(t.onHide,function(){var t={event:"pageHide",toUrl:ss(),fromUrl:ls()};this.$ta.track("pageHide",t)})),n.autoTrack.pageUnload&&(t.onUnload=ps(t.onUnload,function(){var t={event:"pageUnload",toUrl:ss(),fromUrl:ls()};this.$ta.track("pageUnload",t)})),t},this._proxyComponentOptions=function(n){var t,e=null==n?void 0:n.methods;for(t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=function(e,n){return ps(e,function(t){"function"==typeof n&&n(e.name,t)})}(e[t],function(t,e){r.comMethodTracker(t,e,n.data)}));return n.$ta={track:L.track.bind(L)},n}};D.init=function(t){L=L||new As(t),new _s(t),"function"==typeof t.success&&t.success(L)},Object.defineProperty(D,"__esModule",{value:!0})});
